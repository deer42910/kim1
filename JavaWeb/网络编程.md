# 网络编程

**协议**

商量好的计算机网络和通信领域中，两个或多个系统之间如何交换信息的标准

- **网络协议**：如 IP（Internet Protocol），它定义了数据包在网络中如何被标识和路由。

- **传输协议**：如 TCP（Transmission Control Protocol），它负责在网络中可靠地传输数据，确保数据完整性和顺序。

- **应用协议**：如 HTTP（Hypertext Transfer Protocol），用于**Web浏览器和服务器**之间的通信。

- **安全协议**：如 HTTPS（HTTP Secure），它在HTTP的基础上**增加了加密层**，保证数据传输的安全性。

- **通信协议**：如 SMTP（Simple Mail Transfer Protocol），用于电子邮件的发送。

**IP地址**

> IPv4 :32位的二进制数，通常被分为4个字节，192.168.65.100 都是0~255之间的十进制整数。42亿个
>
> IPv6 : 互联网太发达，ipv4不够用，128位地址长度，16字节一组，八组16进制数。

常用命令

```
ipconfig //查看本机
```

```
ping IP地址  //检查网络是否联通
ping 
```

```
本机ip地址  127.0.0.1 、localhost
```

**端口号**

区分电脑间的进程（应用程序）

二字节表示的正数，2字节，2^8*8 即0~65535 

0~1023之间首位端口号用于一些知名的网络服务和应用。

![image-20240818172918591](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20240818172918591.png)

### TCP通信协议

实现两台计算机之间的数据交互，通信的两端，严格区分Client和Server

> 三次握手 
>
> - C向S发出连接请求，等待S确认
> - S向C回送一个响应，通知C收到了连接请求
> - C再次向S发送确认信息，确认连接
>
> 四次挥手断开连接
>
> - 客户端发出断开连接请求
> - 服务器端返回响应：稍等    服务器将最后的数据处理完毕
> - S返回一个响应：确认端口
> - C发出正式确认断开连接

![image-20240818173519459](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20240818173519459.png)

#### Socket类

构造方法

```
public Socket(String host,int port);//host为空，则本机回送地址
```

> 计算机ip地址 端口号

成员方法

```
InputStream getInputStream();//输入流
OutputStream getOutputStream();//输出流
void close();//关闭
void shutdownOutput();//禁止此套用字的输出流
```

#### ServerSocket类

构造方法

```
public ServerSocket(int port);
```

成员方法

```
Socket accept();//接受连接，一直阻塞直到连接
```

![image-20240818175358079](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20240818175358079.png)

![image-20240818175506679](C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20240818175506679.png)

> 整个过程中，服务器不能主动连接客户端，必须由客户端先行发起连接才行